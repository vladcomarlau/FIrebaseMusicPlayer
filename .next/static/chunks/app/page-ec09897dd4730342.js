(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{558:(e,t,a)=>{"use strict";a.d(t,{J:()=>i,MusicProvider:()=>o});var s=a(5155),r=a(2115),n=a(7481);let l=(0,r.createContext)(void 0),o=e=>{let{children:t}=e,[a,o]=(0,r.useState)([]),[i,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1),[m,f]=(0,r.useState)([]),[h,p]=(0,r.useState)(.75),[x,g]=(0,r.useState)(0),[v,b]=(0,r.useState)(0),[y,w]=(0,r.useState)("name-asc"),[j,N]=(0,r.useState)(260),[S,k]=(0,r.useState)(!1),[A,C]=(0,r.useState)("none"),[E,_]=(0,r.useState)(!0),z=(0,r.useRef)(null),{toast:R}=(0,n.dj)(),F=(0,r.useMemo)(()=>[...a].sort((e,t)=>"name-asc"===y?e.name.localeCompare(t.name):t.name.localeCompare(e.name)),[a,y]),M=(0,r.useCallback)(()=>{w(e=>{let t="name-asc"===e?"name-desc":"name-asc";try{localStorage.setItem("musebox-sort",t)}catch(e){console.error("Failed to save sort to localStorage",e)}return t})},[]);(0,r.useEffect)(()=>{try{let e=localStorage.getItem("musebox-favorites");e&&f(JSON.parse(e));let t=localStorage.getItem("musebox-volume");if(t){let e=parseFloat(t);p(e),z.current&&(z.current.volume=e)}let a=localStorage.getItem("musebox-hue");a&&N(parseInt(a,10));let s=localStorage.getItem("musebox-shuffle");s&&k(JSON.parse(s));let r=localStorage.getItem("musebox-repeat");r&&C(r);let n=localStorage.getItem("musebox-sort");n&&w(n);let l=localStorage.getItem("musebox-sinewave");l&&_(JSON.parse(l))}catch(e){console.error("Failed to access localStorage",e)}},[]);let T=(0,r.useCallback)(e=>{p(e),z.current&&(z.current.volume=e);try{localStorage.setItem("musebox-volume",e.toString())}catch(e){console.error("Failed to save volume to localStorage",e)}},[]),L=(0,r.useCallback)(e=>{N(e);try{localStorage.setItem("musebox-hue",e.toString())}catch(e){console.error("Failed to save hue to localStorage",e)}},[]),O=(0,r.useCallback)(()=>{k(e=>{let t=!e;try{localStorage.setItem("musebox-shuffle",JSON.stringify(t))}catch(e){console.error("Failed to save shuffle state to localStorage",e)}return t})},[]),I=(0,r.useCallback)(()=>{C(e=>{let t;t="none"===e?"list":"list"===e?"song":"none";try{localStorage.setItem("musebox-repeat",t)}catch(e){console.error("Failed to save repeat state to localStorage",e)}return t})},[]),D=(0,r.useCallback)(()=>{_(e=>{let t=!e;try{localStorage.setItem("musebox-sinewave",JSON.stringify(t))}catch(e){console.error("Failed to save sine wave state to localStorage",e)}return t})},[]),P=(0,r.useCallback)(e=>{let t=a.find(t=>t.id===e)||F.find(t=>t.id===e);t&&(c(t),u(!0))},[a,F]),H=(0,r.useCallback)(()=>{i&&u(e=>!e)},[i]),J=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;if(i&&0!==e.length)if(S){let t;if(1===e.length)t=e[0];else{let a=e.filter(e=>e.id!==i.id);0===a.length&&(a=e);let s=Math.floor(Math.random()*a.length);t=a[s]}P(t.id)}else{let t=e.findIndex(e=>e.id===i.id);if(-1===t)P(e[0].id);else{let a=(t+1)%e.length;if(0===a&&"list"!==A)return void u(!1);P(e[a].id)}}},[i,F,S,A,P]),U=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;if(!i||0===e.length)return;let t=e.findIndex(e=>e.id===i.id);if(-1===t)P(e[0].id);else{let a=(t-1+e.length)%e.length;P(e[a].id)}},[i,F,P]),q=e=>{z.current&&(z.current.currentTime=e,g(e))},V=(0,r.useCallback)(()=>{"song"===A&&z.current?(z.current.currentTime=0,z.current.play()):J(F)},[A,J,F]);return(0,r.useEffect)(()=>{let e=z.current;e&&(i&&e.src!==i.url&&(e.src=i.url),d?e.play().catch(e=>console.error("Error playing audio:",e)):e.pause())},[d,i]),(0,r.useEffect)(()=>{let e=z.current;if(e){let t=()=>g(e.currentTime),a=()=>b(e.duration),s=()=>V(),r=()=>u(!0),n=()=>u(!1);return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",a),e.addEventListener("ended",s),e.addEventListener("play",r),e.addEventListener("pause",n),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",a),e.removeEventListener("ended",s),e.removeEventListener("play",r),e.removeEventListener("pause",n)}}},[V]),(0,r.useEffect)(()=>{"mediaSession"in navigator&&(i?(navigator.mediaSession.metadata=new MediaMetadata({title:i.name,artist:"MuseBox",album:"Music Player"}),navigator.mediaSession.playbackState=d?"playing":"paused"):(navigator.mediaSession.metadata=null,navigator.mediaSession.playbackState="none"))},[i,d]),(0,r.useEffect)(()=>{d&&i?document.title=i.name:document.title="MuseBox"},[i,d]),(0,r.useEffect)(()=>{if("mediaSession"in navigator)return navigator.mediaSession.setActionHandler("play",()=>H()),navigator.mediaSession.setActionHandler("pause",()=>H()),navigator.mediaSession.setActionHandler("nexttrack",()=>J(F)),navigator.mediaSession.setActionHandler("previoustrack",()=>U(F)),()=>{navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("seekto",null),navigator.mediaSession.setActionHandler("nexttrack",null),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("seekbackward",null)}},[H,J,U,F,v,q]),(0,r.useEffect)(()=>()=>{a.forEach(e=>URL.revokeObjectURL(e.url))},[a]),(0,s.jsxs)(l.Provider,{value:{songs:a,sortedSongs:F,currentSong:i,isPlaying:d,favorites:m,volume:h,currentTime:x,duration:v,sort:y,hue:j,isShuffled:S,repeat:A,showSineWave:E,audioRef:z,loadSongs:e=>{if(!e)return;let t=Array.from(e).filter(e=>e.type.startsWith("audio/"));if(0===t.length)return void R({variant:"destructive",title:"No audio files found",description:"Please select a folder containing supported audio files (e.g., mp3, wav, ogg)."});o(t.map(e=>{let t=URL.createObjectURL(e);return{id:"".concat(e.name,"-").concat(e.size),file:e,name:e.name.replace(/\.[^/.]+$/,""),url:t}}))},playSong:P,togglePlayPause:H,playNext:J,playPrev:U,toggleFavorite:e=>{f(t=>{let a=t.includes(e)?t.filter(t=>t!==e):[...t,e];try{localStorage.setItem("musebox-favorites",JSON.stringify(a))}catch(e){console.error("Failed to save favorites to localStorage",e)}return a})},setVolume:T,seek:q,setSort:w,toggleSort:M,setHue:L,toggleShuffle:O,toggleRepeat:I,toggleSineWave:D},children:[t,(0,s.jsx)("audio",{ref:z,crossOrigin:"anonymous"})]})},i=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("useMusic must be used within a MusicProvider");return e}},2234:(e,t,a)=>{Promise.resolve().then(a.bind(a,5865))},5865:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eg});var s=a(5155),r=a(558),n=a(2115),l=a(4253),o=a(2085),i=a(9434);let c=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"button-ghost-hover",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:a,variant:r,size:n,asChild:o=!1,...d}=e,u=o?l.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(c({variant:r,size:n,className:a})),ref:t,...d})});d.displayName="Button";let u=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});u.displayName="Card";let m=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...r})});m.displayName="CardHeader";let f=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});f.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let h=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...r})});h.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";var p=a(4296),x=a(6406),g=a(1889),v=a(3420);let b=(0,n.forwardRef)((e,t)=>{let{isLoaded:a=!1,as:l="button"}=e,{loadSongs:o}=(0,r.J)(),i=(0,n.useRef)(null),c=t||i,b=e=>{o(e.target.files)},y=()=>{var e;null==(e=c.current)||e.click()};return((0,n.useEffect)(()=>{"button"!==l||a||y()},[l,a]),"menu-item"===l)?(0,s.jsx)("input",{id:"directory-picker-input-menu",type:"file",ref:c,onChange:b,className:"hidden",webkitdirectory:"true",directory:"true",multiple:!0}):a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{type:"file",ref:c,onChange:b,className:"hidden",webkitdirectory:"true",directory:"true",multiple:!0}),(0,s.jsx)(d,{onClick:y,size:"icon",variant:"ghost",className:"rounded-full h-10 w-10 backdrop-blur-sm text-primary-foreground",children:(0,s.jsx)(p.A,{className:"h-4 w-4"})})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full w-full text-center relative overflow-hidden",onClick:y,children:[(0,s.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,s.jsx)(x.A,{className:"absolute top-[10%] left-[15%] h-16 w-16 text-muted/50 animate-float",style:{animationDelay:"0s"}}),(0,s.jsx)(g.A,{className:"absolute top-[20%] right-[10%] h-24 w-24 text-muted/50 animate-float",style:{animationDelay:"1s"}}),(0,s.jsx)(v.A,{className:"absolute bottom-[15%] left-[25%] h-12 w-12 text-muted/50 animate-float",style:{animationDelay:"2s"}}),(0,s.jsx)(x.A,{className:"absolute bottom-[25%] right-[20%] h-20 w-20 text-muted/50 animate-float",style:{animationDelay:"1.5s"}}),(0,s.jsx)(g.A,{className:"absolute top-[40%] left-[40%] h-28 w-28 text-muted/50 animate-float",style:{animationDelay:"0.5s"}}),(0,s.jsx)(v.A,{className:"absolute top-[5%] right-[35%] h-10 w-10 text-muted/50 animate-float",style:{animationDelay:"2.5s"}}),(0,s.jsx)(x.A,{className:"absolute bottom-[5%] left-[5%] h-14 w-14 text-muted/50 animate-float",style:{animationDelay:"3s"}}),(0,s.jsx)(g.A,{className:"absolute bottom-[45%] right-[45%] h-28 w-28 text-muted/50 animate-float",style:{animationDelay:"3.5s"}})]}),(0,s.jsxs)("div",{className:"relative z-10 flex flex-col items-center",children:[(0,s.jsx)("input",{type:"file",ref:c,onChange:b,className:"hidden",webkitdirectory:"true",directory:"true",multiple:!0}),(0,s.jsxs)(u,{className:"w-full max-w-md bg-transparent border-none shadow-none",children:[(0,s.jsx)(m,{className:"text-center",children:(0,s.jsx)(f,{className:"text-3xl font-bold",children:"Welcome!"})}),(0,s.jsx)(h,{className:"flex flex-col items-center gap-4",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Select a folder to start playing music."})})]})]})]})});b.displayName="DirectoryPicker";var y=a(8098);function w(e){let{children:t,className:a,isScrolling:r,forceScroll:l=!1}=e,[o,c]=(0,n.useState)(!1),d=(0,n.useRef)(null),[u,m]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=()=>{let e=d.current;e&&c(e.scrollWidth>e.clientWidth)};e();let t=setTimeout(e,100);window.addEventListener("resize",e);let a=new ResizeObserver(e);return d.current&&a.observe(d.current),()=>{clearTimeout(t),window.removeEventListener("resize",e),d.current&&a.unobserve(d.current)}},[t]),(0,n.useEffect)(()=>{r&&m(e=>e+1)},[r]);let f=o&&l,h=f?(0,s.jsxs)(s.Fragment,{children:[t,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",t,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"]}):(0,s.jsx)(s.Fragment,{children:t});return(0,s.jsx)("div",{className:(0,i.cn)("group/marquee w-full overflow-hidden",f&&!r&&"animate-marquee-mask"),children:(0,s.jsx)("p",{ref:d,className:(0,i.cn)("font-medium whitespace-nowrap",f?"animate-marquee-long":"",r&&"pause","group-hover/marquee:pause",a),children:h},u)})}var j=a(2382);let N=n.forwardRef((e,t)=>{let{className:a,thumbHidden:r,...n}=e;return(0,s.jsxs)(j.bL,{ref:t,className:(0,i.cn)("relative flex w-full touch-none select-none items-center group",a),...n,children:[(0,s.jsx)(j.CC,{className:(0,i.cn)("relative h-2 w-full grow overflow-hidden rounded-full bg-black/5 dark:bg-white/10 backdrop-blur-sm",r?"bg-transparent border-none":"border border-black/5 dark:border-white/20"),children:(0,s.jsx)(j.Q6,{className:(0,i.cn)("absolute h-full bg-black/5 dark:bg-white/10 backdrop-blur-sm",r?"hidden":"border border-black/5 dark:border-white/20")})}),(0,s.jsx)(j.zi,{className:(0,i.cn)("block h-5 w-5 rounded-full border border-black/5 dark:border-white/20 bg-black/5 dark:bg-white/10 backdrop-blur-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",r?"hidden":"opacity-50 group-hover:opacity-100 group-focus-within:opacity-100")})]})});function S(){let{hue:e,setHue:t}=(0,r.J)();return(0,s.jsx)("div",{className:"w-full flex items-center justify-center absolute inset-0 opacity-50 z-10",children:(0,s.jsx)(N,{min:0,max:360,step:1,value:[e],onValueChange:e=>t(e[0]),className:"w-full h-full",thumbHidden:!0})})}N.displayName=j.bL.displayName;let k=()=>(0,s.jsxs)("div",{className:"flex items-end w-5 h-5 gap-0.5",children:[(0,s.jsx)("span",{className:"w-1 h-2 bg-primary/80 animate-[wave_1s_ease-in-out_-0.4s_infinite_alternate]"}),(0,s.jsx)("span",{className:"w-1 h-4 bg-primary animate-[wave_1s_ease-in-out_-0.2s_infinite_alternate]"}),(0,s.jsx)("span",{className:"w-1 h-3 bg-primary/80 animate-[wave_1s_ease-in-out_0s_infinite_alternate]"})]});function A(e){let{songs:t,isScrolling:a}=e,{currentSong:l,isPlaying:o,playSong:c,favorites:u,toggleFavorite:m}=(0,r.J)(),[f,h]=(0,n.useState)(null),p=e=>{(null==l?void 0:l.id)!==e.id&&c(e.id)};return(0,s.jsx)("div",{className:"space-y-2 rounded-lg",children:t.map((e,t)=>{let r=(null==l?void 0:l.id)===e.id,n=f===e.id,c=u.includes(e.id),x=r||n;return(0,s.jsxs)("div",{onMouseEnter:()=>h(e.id),onMouseLeave:()=>h(null),className:(0,i.cn)("flex items-center rounded-full group transition-all relative select-none overflow-hidden",r?"bg-accent dark:bg-primary/20":"bg-card even:bg-secondary hover:bg-accent"),children:[(0,s.jsx)("div",{className:"opacity-0",children:r&&(0,s.jsx)(S,{})}),(0,s.jsxs)("button",{className:"flex items-center p-3 flex-1 text-left min-w-0 gap-4",onClick:()=>p(e),children:[(0,s.jsx)("div",{className:"h-5 w-5 flex-shrink-0 flex items-center justify-center",children:r&&o?(0,s.jsx)(k,{}):(0,s.jsx)("span",{className:(0,i.cn)("font-bold text-lg text-muted-foreground group-hover:text-foreground",r&&"text-primary/70 group-hover:text-primary"),children:e.name.charAt(0).toUpperCase()})}),(0,s.jsx)("div",{className:"flex-1 overflow-hidden whitespace-nowrap",children:(0,s.jsx)(w,{isScrolling:a,forceScroll:x,className:(0,i.cn)(r&&"font-semibold text-accent-foreground dark:text-primary"),children:e.name})})]}),(0,s.jsx)(d,{variant:"ghost",size:"icon",className:(0,i.cn)("rounded-full mr-2 flex-shrink-0 relative opacity-80 text-muted-foreground",c?"text-primary":"text-muted-foreground",r&&"hover:text-foreground"),onClick:t=>{t.stopPropagation(),m(e.id)},children:(0,s.jsx)(y.A,{className:(0,i.cn)("h-5 w-5",c&&"fill-current")})})]},e.id)})})}function C(e){let{isMenuOpen:t=!1}=e;return(0,s.jsx)("div",{className:(0,i.cn)("w-full flex-shrink-0 transition-all duration-300",t?"h-80":"h-48"),"aria-hidden":"true"})}var E=a(3764),_=a(3300),z=a(9225);function R(e){let{playlist:t,isScrolling:a,isDragging:l}=e,{currentSong:o,isPlaying:c,togglePlayPause:u,playNext:m,currentTime:f,duration:h,seek:p}=(0,r.J)(),[x,g]=(0,n.useState)(!1),v=(0,n.useRef)(!1),b=(0,n.useRef)(!1);if((0,n.useEffect)(()=>{g(!0)},[]),!o||!x)return null;let y=h>0?f/h*100:0;return(0,s.jsxs)("div",{className:"flex items-center gap-1 w-full p-1 rounded-full border border-black/10 dark:border-white/20 bg-primary/10 dark:bg-primary/20 h-18 backdrop-blur",onPointerDown:()=>{b.current=!0},onPointerMove:()=>{b.current&&(v.current=!0)},onPointerUp:()=>{b.current=!1,setTimeout(()=>v.current=!1,100)},children:[(0,s.jsxs)(d,{variant:"ghost",size:"icon",className:"relative rounded-full h-full w-auto aspect-square bg-black/5 dark:bg-white/10 text-foreground dark:text-primary-foreground active:scale-95 backdrop-blur-sm border border-black/5 dark:border-white/20",onClick:e=>{e.stopPropagation(),u()},children:[(0,s.jsx)("div",{className:(0,i.cn)("absolute inset-0 flex items-center justify-center transition-opacity duration-300 ease-in-out",v.current?"opacity-0 pointer-events-none":"opacity-100"),children:c?(0,s.jsx)(E.A,{className:"h-7 w-7"}):(0,s.jsx)(_.A,{className:"h-7 w-7"})}),(0,s.jsx)("div",{className:(0,i.cn)("absolute inset-0 flex items-center justify-center transition-opacity duration-300 ease-in-out select-none",v.current?"opacity-100":"opacity-0 pointer-events-none"),children:(0,i.a)(f)})]}),(0,s.jsxs)(d,{variant:"ghost",size:"icon",className:"relative rounded-full h-full w-auto aspect-square bg-black/5 dark:bg-white/10 text-foreground dark:text-primary-foreground active:scale-95 backdrop-blur-sm border border-black/5 dark:border-white/20",onClick:e=>{e.stopPropagation(),m(t)},children:[(0,s.jsx)("div",{className:(0,i.cn)("absolute inset-0 flex items-center justify-center transition-opacity duration-300 ease-in-out",v.current?"opacity-0 pointer-events-none":"opacity-100"),children:(0,s.jsx)(z.A,{className:"h-6 w-6"})}),(0,s.jsx)("div",{className:(0,i.cn)("absolute inset-0 flex items-center justify-center transition-opacity duration-300 ease-in-out select-none",v.current?"opacity-100":"opacity-0 pointer-events-none"),children:(0,i.a)(h)})]}),(0,s.jsx)("div",{className:"flex-1 cursor-pointer transition-colors relative min-w-0 h-full rounded-full",children:(0,s.jsxs)("div",{className:"relative rounded-full overflow-hidden h-full flex items-center justify-center text-center px-4 bg-primary/10",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 h-full bg-primary opacity-80",style:{width:"".concat(y,"%")}}),(0,s.jsx)(w,{className:"font-semibold text-sm text-black dark:text-primary-foreground relative z-10 select-none",isScrolling:a,children:o.name}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 w-8 bg-gradient-to-l from-black/5 to-transparent dark:from-white/10"}),(0,s.jsx)("div",{className:(0,i.cn)("absolute inset-0 z-30 opacity-0",l&&"pointer-events-none"),children:(0,s.jsx)(N,{value:[y],onValueChange:e=>{let[t]=e;return p(t/100*h)},max:100,step:1,className:"w-full h-full"})})]})})]})}function F(e){let{showFavorites:t,setShowFavorites:a}=e;return(0,s.jsx)(d,{variant:"ghost",size:"icon",onClick:()=>a(!t),className:(0,i.cn)("rounded-full h-10 w-10 z-10 transition-colors",t&&"bg-primary/20 hover:bg-primary/30"),"aria-label":"Show favorite songs",children:(0,s.jsx)(y.A,{className:(0,i.cn)("h-4 w-4",t&&"fill-primary text-primary")})})}var M=a(5074);let T=n.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});T.displayName="Input";var L=a(7129),O=a(3158),I=a(518),D=a(154);let P=L.bL,H=L.l9;L.YJ,L.ZL,L.Pb,L.z6,n.forwardRef((e,t)=>{let{className:a,inset:r,children:n,...l}=e;return(0,s.jsxs)(L.ZP,{ref:t,className:(0,i.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...l,children:[n,(0,s.jsx)(O.A,{className:"ml-auto"})]})}).displayName=L.ZP.displayName,n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(L.G5,{ref:t,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=L.G5.displayName;let J=n.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,s.jsx)(L.ZL,{children:(0,s.jsx)(L.UC,{ref:t,sideOffset:r,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});J.displayName=L.UC.displayName;let U=n.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(L.q7,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...n})});U.displayName=L.q7.displayName,n.forwardRef((e,t)=>{let{className:a,children:r,checked:n,...l}=e;return(0,s.jsxs)(L.H_,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(L.VF,{children:(0,s.jsx)(I.A,{className:"h-4 w-4"})})}),r]})}).displayName=L.H_.displayName,n.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(L.hN,{ref:t,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(L.VF,{children:(0,s.jsx)(D.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=L.hN.displayName,n.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(L.JU,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...n})}).displayName=L.JU.displayName;let q=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(L.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});q.displayName=L.wv.displayName;var V=a(9069),W=a(919),Q=a(8350),Z=a(6995),B=a(2303),G=a(8330),X=a(3152);function Y(){let{isShuffled:e,toggleShuffle:t,repeat:a,toggleRepeat:l,sort:o,toggleSort:i,showSineWave:c,toggleSineWave:u}=(0,r.J)(),m=(0,n.useRef)(null);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b,{as:"menu-item",ref:m}),(0,s.jsxs)(P,{children:[(0,s.jsx)(H,{asChild:!0,children:(0,s.jsx)(d,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10",children:(0,s.jsx)(Q.A,{className:"h-4 w-4"})})}),(0,s.jsxs)(J,{align:"end",children:[(0,s.jsxs)(U,{onSelect:e=>{e.preventDefault(),t()},children:[(0,s.jsx)(Z.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:e?"Shuffle Off":"Shuffle On"})]}),(0,s.jsxs)(U,{onSelect:e=>{e.preventDefault(),l()},children:[(()=>{switch(a){case"list":default:return(0,s.jsx)(V.A,{className:"mr-2 h-4 w-4"});case"song":return(0,s.jsx)(W.A,{className:"mr-2 h-4 w-4"})}})(),(0,s.jsx)("span",{children:(()=>{switch(a){case"list":return"Repeat List";case"song":return"Repeat Song";default:return"Repeat Off"}})()})]}),(0,s.jsxs)(U,{onSelect:e=>{e.preventDefault(),i()},children:["name-asc"===o?(0,s.jsx)(B.A,{className:"mr-2 h-4 w-4"}):(0,s.jsx)(G.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Sort List"})]}),(0,s.jsxs)(U,{onSelect:e=>{e.preventDefault(),u()},children:[(0,s.jsx)(X.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:c?"Hide Wave":"Show Wave"})]}),(0,s.jsx)(q,{}),(0,s.jsxs)(U,{onSelect:()=>{var e;null==(e=m.current)||e.click()},children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Change Folder"})]})]})]})]})}var $=a(6936),K=a(8027),ee=a(1362);function et(){let{theme:e,setTheme:t}=(0,ee.D)();return(0,s.jsxs)(d,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10",onClick:()=>t("dark"===e?"light":"dark"),children:[(0,s.jsx)($.A,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(K.A,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}function ea(e){let{searchQuery:t,setSearchQuery:a,showFavorites:r,setShowFavorites:n}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-1 w-full p-1 rounded-full border border-black/10 dark:border-white/20 bg-primary/10 dark:bg-primary/20 h-18 backdrop-blur",children:[(0,s.jsx)(F,{showFavorites:r,setShowFavorites:n}),(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(M.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,s.jsx)(T,{type:"search",placeholder:"Search songs...",className:"w-full pl-10 rounded-full bg-black/5 dark:bg-white/5",value:t,onChange:e=>a(e.target.value)})]}),(0,s.jsx)(Y,{}),(0,s.jsx)(et,{})]})}var es=a(7381),er=a(9556);function en(e){let{playlist:t,isScrolling:a,searchQuery:r,setSearchQuery:n,showFavorites:l,setShowFavorites:o,activeView:c,toggleView:u}=e,m="menu"===c;return(0,s.jsxs)("div",{className:(0,i.cn)("absolute bottom-[66px] inset-x-0 flex flex-col items-center px-4 transition-all duration-300 pointer-events-none",m?"h-36":"h-18"),children:[(0,s.jsx)("div",{className:(0,i.cn)("absolute w-full max-w-sm pointer-events-auto transition-all duration-300 z-10",m?"bottom-[calc(4.5rem+0.5rem)]":"bottom-0"),children:(0,s.jsx)(R,{playlist:t,isScrolling:a})}),(0,s.jsx)("div",{className:(0,i.cn)("absolute w-full max-w-sm pointer-events-auto transition-all duration-300 bottom-0",!m&&"scale-0 opacity-0"),children:(0,s.jsx)(ea,{searchQuery:r,setSearchQuery:n,showFavorites:l,setShowFavorites:o})}),(0,s.jsx)("div",{className:(0,i.cn)("absolute w-full max-w-sm flex justify-center items-center transition-all duration-300 pointer-events-auto",m?"bottom-[calc(9rem+1rem)]":"bottom-[4.5rem]"),children:(0,s.jsx)(d,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10",onClick:u,children:"player"===c?(0,s.jsx)(es.A,{className:"h-5 w-5"}):(0,s.jsx)(er.A,{className:"h-5 w-5"})})})]})}var el=a(1228),eo=a(1414);let ei=-1,ec=0,ed=0,eu=new Set;function em(e){ed&&(ec+=(e-ed)*.0015),ed=e,eu.forEach(e=>e()),ei=requestAnimationFrame(em)}let ef=e=>(eu.add(e),1===eu.size&&(ei=requestAnimationFrame(em)),()=>{eu.delete(e),0===eu.size&&(cancelAnimationFrame(ei),ei=-1,ed=0,ec=0)}),eh=()=>ec,ep=()=>0;function ex(){let{width:e=0}=function(){let[e,t]=(0,n.useState)({width:void 0,height:void 0});return(0,n.useEffect)(()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e}(),{isPlaying:t,currentSong:a,showSineWave:l}=(0,r.J)(),[o,c]=(0,n.useState)(!1),d=(0,eo.useSyncExternalStore)(ef,eh,ep);(0,n.useEffect)(()=>{c(!0)},[]);let{amp1:u,amp2:m,amp3:f,amp4:h}=(0,el.zh)({amp1:t&&a?15.36:0,amp2:t&&a?12.8:0,amp3:t&&a?20.48:0,amp4:t&&a?17.92:0,config:{mass:1,tension:280,friction:60}}),p=(0,n.useMemo)(()=>{if(e<=0)return{path1:"",path2:""};let t=e/2;return(a,s,r,n)=>{let l="M 0 ".concat(128),o="M 0 ".concat(128);for(let i=0;i<=e;i++){let e=Math.abs(i-t),c=64+a*Math.sin(.015*e-2*d)+s*Math.sin(.008*e-d);l+=" L ".concat(i," ").concat(c);let u=64+r*Math.sin(.012*e-1.5*d)+n*Math.sin(.006*e-.8*d);o+=" L ".concat(i," ").concat(u)}return{path1:l+=" L ".concat(e," ").concat(128," Z"),path2:o+=" L ".concat(e," ").concat(128," Z")}}},[e,d]);return o&&e&&l?(0,s.jsx)("div",{className:(0,i.cn)("absolute bottom-0 left-0 w-full h-32 overflow-hidden transition-opacity duration-500 z-5",a?"opacity-100":"opacity-0"),children:(0,s.jsxs)(el.CS.svg,{width:e,height:"100%",viewBox:"0 0 ".concat(e," 128"),preserveAspectRatio:"none",children:[(0,s.jsx)(el.CS.path,{d:f.to((e,t)=>p(0,0,e,h.get()).path2),fill:"hsl(var(--sine-wave-fill))",className:"opacity-50"}),(0,s.jsx)(el.CS.path,{d:u.to((e,t)=>p(e,m.get(),0,0).path1),fill:"hsl(var(--sine-wave-fill))"})]})}):null}function eg(){let{sortedSongs:e,favorites:t,currentSong:a}=(0,r.J)(),[l,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(!1),f=(0,n.useRef)(null),[h,p]=(0,n.useState)("player"),x=(0,n.useMemo)(()=>e.filter(e=>t.includes(e.id)),[e,t]),g=l?x:e,v=(0,n.useMemo)(()=>c?g.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())):g,[g,c]);return(0,n.useEffect)(()=>()=>{f.current&&clearTimeout(f.current)},[]),(0,s.jsxs)("div",{className:"flex flex-col h-full bg-background/80 backdrop-blur-3xl text-foreground overflow-hidden",children:[(0,s.jsx)("main",{className:(0,i.cn)("flex-1 overflow-y-auto relative z-0",u&&"is-scrolling"),onScroll:e=>{m(!0),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{m(!1)},2e3)},children:0===e.length?(0,s.jsx)("div",{className:"flex items-center justify-center h-full p-4 md:p-6",children:(0,s.jsx)(b,{})}):(0,s.jsx)("div",{className:"p-4 md:p-6",children:(0,s.jsx)("div",{children:v.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"px-4 mb-2",children:(0,s.jsxs)("p",{className:"text-xs font-medium text-muted-foreground tracking-wider uppercase",children:[v.length," ",1===v.length?"Song":"Songs"]})}),(0,s.jsx)(A,{songs:v,isScrolling:u}),(0,s.jsx)(C,{isMenuOpen:"menu"===h})]}):(0,s.jsx)("div",{className:"text-center text-muted-foreground mt-16 flex flex-col items-center",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"No Results Found"}),(0,s.jsx)("p",{className:"text-sm",children:"Try a different search term."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.A,{size:48,className:"text-muted-foreground/50 mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"No Favorites Yet"}),(0,s.jsx)("p",{className:"text-sm",children:"Click the heart icon on a song to add it here."})]})})})})}),(0,s.jsx)("div",{className:"absolute inset-0 z-5 pointer-events-none",children:(0,s.jsx)(ex,{})}),a&&(0,s.jsx)("div",{className:"fixed bottom-0 inset-x-0 z-50 pointer-events-none",children:(0,s.jsx)(en,{playlist:v,isScrolling:u,searchQuery:c,setSearchQuery:d,showFavorites:l,setShowFavorites:o,activeView:h,toggleView:()=>{p(e=>"player"===e?"menu":"player")}})})]})}},7481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m});var s=a(2115);let r=0,n=new Map,l=(e,t)=>{if(n.has(e))return;let a=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},null!=t?t:5e3);n.set(e,a)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],c={toasts:[]};function d(e){c=o(c,e),i.forEach(e=>{e(c)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(c);return s.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,t,a)=>{"use strict";a.d(t,{a:()=>l,cn:()=>n});var s=a(2596),r=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}function l(e){if(isNaN(e)||e<0)return"00:00";let t=Math.floor(e/60),a=Math.floor(e%60);return"".concat(t.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))}}},e=>{var t=t=>e(e.s=t);e.O(0,[894,243,441,684,358],()=>t(2234)),_N_E=e.O()}]);